{% extends 'layout/main.html' %}

{% block extra_js %}
  <script>
    new DataTable('#staff-table', {
      layout: {
        topStart: {
          buttons: [
            { extend: 'excel', className: 'btn btn-sm btn-success' },
            { extend: 'pdf', className: 'btn btn-sm btn-danger' },
            { extend: 'print', className: 'btn btn-sm btn-secondary' }
          ]
        }
      }
    })
  </script>
{% endblock %}

{% block extra_css %}
  <style>
    .circular-alert {
      width: 100px; /* Adjust the size to your need */
      height: 100px;
      border-radius: 50%; /* Makes it circular */
      display: flex;
      justify-content: center;
      align-items: center; /* Centers the text inside the circle */
      text-align: center; /* Centers the text */
      padding: 0;
      font-size: 14px; /* Adjust font size as needed */
      margin: 10px auto; /* Center horizontally with margin auto */
    }
  </style>
{% endblock %}

{% block content %}
  <div class="app-content-header">
    <div class="container-fluid">
      <!-- Toolbar begins -->
      <div class="container-fluid">
        <div class="row">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center p-2 pb-2 mb-3">
            <h5>{{ page_title }} {{ page_action }}</h5>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group me-2">
                <a class="btn btn-sm btn-outline-success active" href="{% url 'portal:teachers' %}"><i class="bi bi-check-circle"></i> Current</a>
                <a class="btn btn-sm btn-outline-warning" href="{% url 'portal:teachers-archived' %}"><i class="bi bi-archive"></i> Archive</a>
                <button type="button" class="btn btn-sm" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-three-dots-vertical"></i></button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a class="dropdown-item" href="{% url 'portal:teacher-create' %}">
                      <i class="bi bi-plus"> Create</i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Toolbar ends -->
    </div>
  </div>
  <div class="app-content">
    <div class="container-fluid">
      {% if teachers %}
        <table id="teachers-table" class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Name</th>
              <th>Gender</th>
              <th>Mobile Phone</th>
              <th class="text-center">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for teacher in teachers %}
              <tr>
                <td>{{ teacher.get_full_name }}</td>
                <td>{{ teacher.gender.upper }}</td>
                <td>{{ teacher.mobile_phone }}</td>
                <td class="text-center">
                  <a href="{% url 'portal:teacher-edit' pk=teacher.id %}"><i class="bi bi-eye"></i></a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <div class="text-center">
          <i class="bi bi-exclamation-triangle-fill large-icon text-warning fs-1"></i>
          <div>No Data</div>
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}
